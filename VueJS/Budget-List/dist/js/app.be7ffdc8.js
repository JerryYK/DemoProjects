(function(e){function t(t){for(var a,s,i=t[0],c=t[1],u=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/~yer/hw05/myvuefirebase/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0272":function(e,t,n){"use strict";var a=n("9e6e"),r=n.n(a);r.a},"0a0b":function(e,t,n){"use strict";var a=n("b988"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("div",{staticClass:"d-flex align-center"},[n("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-logo-dark.png",transition:"scale-transition",width:"40"}}),n("v-img",{staticClass:"shrink mt-1 hidden-sm-and-down",attrs:{alt:"Vuetify Name",contain:"","min-width":"100",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-name-dark.png",width:"100"}})],1),n("v-spacer"),n("v-dialog",{attrs:{persistent:"","max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:!0===e.isLoggedIn,expression:"isLoggedIn === true"}],attrs:{color:"orange darken-1",dark:""}},a),[e._v("SignOut")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Sign out confirm")]),n("v-card-text",[e._v("Are you sure for exiting?")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("No")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.signOut}},[e._v("Yes")])],1)],1)],1)],1),n("transition",{attrs:{name:"slide"}},[n("router-view")],1)],1)},o=[],s=n("59ca"),i=n.n(s),c=(n("66ce"),n("ea7b"),{apiKey:"AIzaSyC4OoxY-FB9ZmqrVKFcpfKWGEfAb8EFp5Y",authDomain:"cis371hw5.firebaseapp.com",databaseURL:"https://cis371hw5.firebaseio.com",projectId:"cis371hw5",storageBucket:"cis371hw5.appspot.com",messagingSenderId:"415861792480",appId:"1:415861792480:web:32abe5c79be30315fa7a85",measurementId:"G-CFQTDJJHL7"});i.a.initializeApp(c);var u=i.a.database(),l=i.a.auth(),d={name:"App",components:{},data:function(){return{isLoggedIn:!1,dialog:!1}},mounted:function(){var e=this;l.onAuthStateChanged((function(t){e.isLoggedIn=null!=t}))},methods:{signOut:function(){var e=this;this.dialog=!1,l.signOut().then((function(){e.$router.back()}))}}},p=d,f=n("2877"),v=n("6544"),m=n.n(v),b=n("7496"),h=n("40dc"),g=n("8336"),y=n("b0af"),x=n("99d9"),_=n("169a"),k=n("adda"),w=n("2fa4"),S=Object(f["a"])(p,r,o,!1,null,null,null),O=S.exports;m()(S,{VApp:b["a"],VAppBar:h["a"],VBtn:g["a"],VCard:y["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VDialog:_["a"],VImg:k["a"],VSpacer:w["a"]});var C=n("f309");a["a"].use(C["a"]);var D=new C["a"]({}),V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Runquan Ye")]),n("div",{staticClass:"container"},[n("v-form",[n("v-text-field",{attrs:{label:"Description",type:"text"},model:{value:e.expenseDesc,callback:function(t){e.expenseDesc=t},expression:"expenseDesc"}}),n("v-text-field",{attrs:{label:"Amount",type:"number",step:"0.01"},model:{value:e.expenseAmt,callback:function(t){e.expenseAmt=e._n(t)},expression:"expenseAmt"}}),n("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-text-field",e._g({attrs:{label:"Date"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.dateFormatted,callback:function(t){e.dateFormatted=t},expression:"dateFormatted"}},a))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[n("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){e.menu1=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),n("v-select",{attrs:{items:e.expenseCategories,label:"Category"},model:{value:e.expenseCategory,callback:function(t){e.expenseCategory=t},expression:"expenseCategory"}}),n("span",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{color:"primary"},on:{click:e.yourButtonHandler}},a),[e._v("Add")])]}}])},[n("span",[e._v("Insert budget")])])],1)],1)],1),n("div",[n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{id:"removeButton",color:"green lighten-1",disabled:0==e.userSelections.length},on:{click:e.removeSelection}},a),[e._v("Remove Selection(s)")])]}}])},[n("span",[e._v("Remove Budget(s)")])]),n("v-simple-table",{staticClass:"dataTable",attrs:{"fixed-header":""}},[n("thead",[n("tr",[n("td",[e._v("Date")]),n("td",[e._v("Description")]),n("td",[e._v("Category")]),n("td",[e._v("Amount")])])]),n("tbody",[e._l(e.myExpense,(function(t,a){return n("tr",{key:a},[n("td",[e._v(e._s(t.date))]),n("td",[e._v(e._s(t.description))]),n("td",[e._v(e._s(t.category))]),n("td",{staticClass:"text-right"},[e._v(e._s(t.amount.toFixed(2)))]),n("td",[n("input",{attrs:{type:"checkbox",id:t.mykey},on:{change:e.selectionHandler}})])])})),n("tr",{attrs:{id:"sum"}},[n("td",{attrs:{colspan:"3"}},[e._v("Total")]),n("td",{staticClass:"text-right"},[e._v(e._s(e.totalExpense.toFixed(2)))])])],2)])],1),n("v-container",[n("canvas",{attrs:{id:"myChart"}})])],1)},j=[],E=(n("a4d3"),n("99af"),n("4de4"),n("4160"),n("accc"),n("0d03"),n("e439"),n("dbb4"),n("b64b"),n("ac1f"),n("4d90"),n("1276"),n("159b"),n("e587")),A=n("2fa7");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(A["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={data:function(){return{expenseDesc:"",expenseAmt:0,expenseDate:"",expenseCategory:"",myExpense:[],totalExpense:0,userSelections:[],expenseCategories:["Food","Gas","Travel","Education","Clothing"],date:(new Date).toISOString().substr(0,10),dateFormatted:this.formatDate((new Date).toISOString().substr(0,10)),menu1:!1}},mounted:function(){u.ref("budget").on("child_added",this.fbAddHandler),u.ref("budget").on("child_removed",this.fbRemoveListener)},beforeDestroy:function(){u.ref("budget").off("child_added",this.fbAddHandler),u.ref("budget").off("child_removed",this.fbRemoveListener)},computed:{computedDateFormatted:function(){return this.formatDate(this.date)}},watch:{date:function(){this.dateFormatted=this.formatDate(this.date)}},methods:{yourButtonHandler:function(){u.ref("budget").push().set({description:this.expenseDesc,category:this.expenseCategory,amount:this.expenseAmt,date:this.date})},fbAddHandler:function(e){var t=e.val();this.myExpense.push(I({},t,{mykey:e.key})),this.totalExpense+=t.amount},selectionHandler:function(e){var t=e.target.id;e.target.checked?this.userSelections.push(t):this.userSelections=this.userSelections.filter((function(e){return e.localeCompare(t)}))},fbRemoveListener:function(e){var t=e.val();this.myExpense=this.myExpense.filter((function(t){return t.mykey!==e.key})),this.userSelections=[],this.totalExpense-=t.amount},removeSelection:function(){this.userSelections.forEach((function(e){u.ref("budget").child(e).remove()}))},formatDate:function(e){if(!e)return null;var t=e.split("-"),n=Object(E["a"])(t,3),a=n[0],r=n[1],o=n[2];return"".concat(a,"/").concat(r,"/").concat(o)},parseDate:function(e){if(!e)return null;var t=e.split("/"),n=Object(E["a"])(t,3),a=n[0],r=n[1],o=n[2];return"".concat(a,"-").concat(r.padStart(2,"0"),"-").concat(o.padStart(2,"0"))}}},L=F,T=(n("0272"),n("a523")),B=n("2e4b"),H=n("4bd4"),R=n("e449"),U=n("b974"),$=n("1f4f"),N=n("8654"),M=n("3a2f"),Y=Object(f["a"])(L,V,j,!1,null,"70c81e4d",null),J=Y.exports;m()(Y,{VBtn:g["a"],VContainer:T["a"],VDatePicker:B["a"],VForm:H["a"],VMenu:R["a"],VSelect:U["a"],VSimpleTable:$["a"],VTextField:N["a"],VTooltip:M["a"]});var G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-form",{staticClass:"login"},[n("v-text-field",{attrs:{type:"text",label:"Username/Email"},model:{value:e.userEmail,callback:function(t){e.userEmail=t},expression:"userEmail"}}),n("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:e.userPassword,callback:function(t){e.userPassword=t},expression:"userPassword"}}),n("v-container",{directives:[{name:"show",rawName:"v-show",value:!1===e.isLoggedIn,expression:"isLoggedIn === false"}]},[n("v-row",{attrs:{justify:"end"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({on:{click:e.doSignUp}},a),[e._v("SignUp")])]}}])},[n("span",[e._v("Create New Account")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({on:{click:e.doSignIn}},a),[e._v("SignIn")])]}}])},[n("span",[e._v("Login in your Account")])]),n("v-snackbar",{directives:[{name:"show",rawName:"v-show",value:!0===e.snackbar,expression:"snackbar === true"}],model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" "),n("v-btn",{attrs:{color:"pink",text:""},on:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1)],1)],1)],1)],1)},K=[],W={data:function(){return{userEmail:"",userPassword:"",error:"",snackbar:!1,isLoggedIn:!1}},mounted:function(){var e=this;l.onAuthStateChanged((function(t){e.isLoggedIn=null!=t}))},methods:{doSignUp:function(){var e=this;l.createUserWithEmailAndPassword(this.userEmail,this.userPassword).then((function(t){alert("User created with UID "+t.user.uid),e.$router.push({path:"/budget"})})).catch((function(t){e.error=t,e.snackbar=!0}))},doSignIn:function(){var e=this;l.signInWithEmailAndPassword(this.userEmail,this.userPassword).then((function(t){alert("You logged in as "+t.user.email),e.$router.push({path:"/budget"})})).catch((function(t){e.error=t,e.snackbar=!0}))}}},q=W,z=(n("0a0b"),n("0fd9")),Q=n("2db4"),Z=Object(f["a"])(q,G,K,!1,null,"3bcc41f5",null),X=Z.exports;m()(Z,{VBtn:g["a"],VContainer:T["a"],VForm:H["a"],VRow:z["a"],VSnackbar:Q["a"],VTextField:N["a"],VTooltip:M["a"]});var ee=n("8c4f");a["a"].use(ee["a"]);var te=[{path:"/",component:X},{path:"/budget",component:J}],ne=new ee["a"]({routes:te,mode:"history",base:"/~yer/hw05/myvuefirebase/"});a["a"].config.productionTip=!1,new a["a"]({vuetify:D,render:function(e){return e(O)},router:ne}).$mount("#app")},"9e6e":function(e,t,n){},b988:function(e,t,n){}});
//# sourceMappingURL=app.be7ffdc8.js.map